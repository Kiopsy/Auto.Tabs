(new class{constructor(){this.tabDict={},this.tabUrlDict={},this.urls=[],this.allTabs=[],this.tabIds=[],this.g=this.ut=this.t=0}getAllTabs(){return this.allTabs}getNonGroupTabs(){}async sortTabs(){this.urls.sort((function(t,s){return t.toLowerCase().localeCompare(s.toLowerCase())}));for(let t=0;t<this.urls.length;t++)chrome.tabs.move(this.tabUrlDict[this.urls[t]],{index:1e3+t}),this.tabUrlDict[this.urls[t]]=t}async queryTabs(){let t=await chrome.tabs.query({currentWindow:!0,groupId:-1});console.log(t);let s=[];t.forEach((t=>{this.tabDict[t.title]?s.push(t.id):(this.allTabs.push(t.title),this.urls.push(t.url),this.tabIds.push(t.id),this.tabUrlDict[t.url]=t.id,this.tabDict[t.title]=t.id)}))}async removeTabs(t){t.forEach((t=>{chrome.tabs.remove(t)}))}async createChromeGroups(t){var s;this.sortTabs(),chrome.windows.getCurrent((function(t){s=t.id}));for(let o in t){console.log("Group:"+o);let e=[];for(let s in t[o])e.push(this.tabDict[this.allTabs[t[o][s]]]),console.log(t[o][s],this.allTabs[t[o][s]]);console.log("Creating groups.."),await chrome.tabs.group({createProperties:{windowId:s},tabIds:e})}}async updateLogData(t){let s=await chrome.tabs.query({currentWindow:!0}),o=new Set;s.forEach((t=>{-1!=t.groupId&&o.add(t.groupId)}));let e=s.length,a=o.size-t,r=this.allTabs.length,l=(new Date).toUTCString();await chrome.storage.sync.get(["log"],(function(t){let s=t.log?t.log:[];console.log(t),console.log(s);let o={date:l,groups:a,tabsOpen:e,ungroupedTabs:r};s.push(o),chrome.storage.sync.set({log:s},(function(){console.log("saved")}))}))}async getLogData(){await chrome.storage.sync.get(["log"],(function(t){let s=t.log;console.log(s)}))}}).getLogData();
//# sourceMappingURL=background.js.map
